(()=>{"use strict";var e={425:(e,t,n)=>{n.d(t,{P:()=>r});var a=n(216);async function r(){const e=window.location.href,t=e.lastIndexOf("/"),n=e.substring(t+1);if(isNaN(+n))throw new Error(`Unable to get user with id ${n}`);try{const e=await(0,a.Q)(`/user/show/${n}`),t=await e.json();if(t.error)throw new Error(t.error);return t}catch(e){alert(e.message)}}window.location.href.match(/user\/\d+/)&&window.addEventListener("DOMContentLoaded",(async function(){const e=await r(),t=document.getElementById("card-content");Object.entries(e).filter((([e,t])=>"id"!==e)).forEach((([e,n])=>function(e,t,n){const a=document.createElement("div");a.className="col-lg-6";const r=document.createElement("h5"),o=document.createElement("strong");o.textContent=e.slice(0,1).toUpperCase()+e.slice(1),r.appendChild(o),a.appendChild(r);const s=document.createElement("p");s.className="display-5 text-secondary",s.textContent=t,a.appendChild(s),n.appendChild(a)}(e,n,t)))}))},216:(e,t,n)=>{function a(e,t="GET",n="",a={}){return"GET"===t||"HEAD"===t?fetch(e,{method:t,headers:a}).catch((e=>{alert(`Something went wrong ${e.message}`)})):fetch(e,{method:t,body:n,headers:a}).catch((e=>{alert(`Something went wrong ${e.message}`)}))}n.d(t,{Q:()=>a})}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(216),t=n(425);const a=document.getElementById("edit-user-form"),r=document.getElementById("user-name"),o=document.getElementById("user-email"),s=document.getElementById("user-gender"),c=document.getElementById("user-status");let l=null;window.addEventListener("DOMContentLoaded",(async function(){try{const e=await(0,t.P)();r.value=e.name,o.value=e.email,s.value=e.gender,c.value=e.status,l=e.id}catch(e){console.log(e.message)}})),a.addEventListener("submit",(function(t){t.preventDefault();const[n,a,d,i]=[r.value,o.value,s.value,c.value];if(function(e,t,n,a){return/^[a-zA-Z ]{2,30}$/.test(e)?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?"male"!==n&&"female"!==n?(alert("Please select a valid gender (Male or Female)"),!1):"active"===a||"inactive"===a||(alert("Please select a valid status (Active or Inactive)"),!1):(alert("Please enter a valid email address"),!1):(alert("Please enter a valid name (2-30 characters, letters only)"),!1)}(n,a,d,i)){const t={name:n,email:a,gender:d,status:i};(0,e.Q)(`/users/update/${l}`,"PUT",JSON.stringify(t),{"Content-Type":"application/json"}).then((e=>{if(200!==e.status)return e.json();window.location.href="/"})).then((e=>{if(e&&e.error)throw new Error(e.error)})).catch((e=>{alert(e.message)}))}}))})()})();